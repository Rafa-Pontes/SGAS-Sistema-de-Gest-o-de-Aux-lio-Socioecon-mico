<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGAS | Cadastro Socioecon√¥mico</title>
    <link rel="stylesheet" href="../css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <span class="logo">SGAS - Sistema de Gest√£o de Aux√≠lio Socioecon√¥mico</span>
            <div class="user-info">Bem-vindo, Respons√°vel | <a href="../index.html">Sair</a></div>
        </div>
    </nav>

    <main class="container">
        <div class="stepper">
            <div class="step active" id="step1-header"><span>1</span> Dados do Respons√°vel</div>
            <div class="step" id="step2-header"><span>2</span> Dados do Aluno e Fam√≠lia</div>
            <div class="step" id="step3-header"><span>3</span> An√°lise de Renda</div>
        </div>

        <form id="multiStepForm">
            <section class="form-step active" id="step1">
                <h2>Dados do Respons√°vel</h2>
                <div class="grid-form">
                    <div class="input-group full">
                        <label>Nome Completo (*)</label>
                        <input type="text" id="nome_resp" class="req" placeholder="Digite o nome completo" required>
                    </div>
                    <div class="input-group">
                        <label>CPF (*)</label>

                        <input type="text" id="cpf_resp" class="req cpf-mask" placeholder="000.000.000-00" maxlength="14" required>
                    </div>
                    <div class="input-group">
                        <label>RG (*)</label>
                        <input type="text" id="rg_resp" class="req rg-mask" placeholder="00.000.000-0" maxlength="12" required>

                    </div>
                    <div class="input-group full">
                        <label>Logradouro (Endere√ßo) (*)</label>
                        <input type="text" id="end_resp" class="req" placeholder="Rua, Avenida, etc." required>
                    </div>
                </div>
                <div class="actions">
                    <button type="button" class="btn-next" onclick="nextStep(2)" disabled>Pr√≥ximo: Dados do Aluno</button>
                </div>
            </section>

            <section class="form-step" id="step2">
                <h2>Dados do Aluno e Grupo Familiar</h2>
                <div class="grid-form">
                    <div class="input-group full">
                        <label>Nome do Aluno (*)</label>
                        <input type="text" id="nome_aluno" class="req" placeholder="Nome completo do estudante" required>
                    </div>
                    <div class="input-group">
                        <label>CPF (*)</label>
                        <input type="text" id="cpf_alu" class="req cpf-mask" placeholder="000.000.000-00" maxlength="14" required>
                    </div>
                    <div class="input-group">
                        <label>V√≠nculo (*)</label>
                        <select id="vinculo_aluno" class="req" onchange="toggleRequiredFiles()" required>
                            <option value="">Selecione</option>
                            <option value="func_fahz">Dependente de Funcion√°rio FAHZ/AMBEV</option>
                            <option value="aposentado">Dependente de Aposentado FAHZ/AMBEV</option>
                            <option value="viuvo">Dependente de Vi√∫vo(a) FAHZ/AMBEV</option>
                            <option value="comunidade">Comunidade / Irm√£o de Aluno</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>S√©rie/Ano (*)</label>
                        <select id="serie_aluno" class="req" required>
                            <option value="">Selecione</option>
                            <optgroup label="Ensino Fundamental">
                                <option value="F1">1¬∫ Ano</option>
                                <option value="F2">2¬∫ Ano</option>
                                <option value="F3">3¬∫ Ano</option>
                                <option value="F4">4¬∫ Ano</option>
                                <option value="F5">5¬∫ Ano</option>
                                <option value="F6">6¬∫ Ano</option>
                                <option value="F7">7¬∫ Ano</option>
                                <option value="F8">8¬∫ Ano</option>
                                <option value="F9">9¬∫ Ano</option>
                            </optgroup>
                            <optgroup label="Ensino M√©dio">
                                <option value="M1">1¬™ S√©rie</option>
                                <option value="M2">2¬™ S√©rie</option>
                                <option value="M3">3¬™ S√©rie</option>
                            </optgroup>
                        </select>
                    </div>
                </div>

                <div class="familiar-section" style="border-top: 1px solid #eee; padding-top: 20px;">
                    <h3>Membros do Grupo Familiar (>18 anos)</h3>
                    <p style="font-size: 0.8rem; color: #666; margin-bottom: 15px;">
                        Inclua todos que residem na mesma casa, conforme exigido para o estudo socioecon√¥mico[cite: 59, 60].
                    </p>
                    <div id="lista-familiares">
                        </div>
                    <button type="button" class="btn-add-member" onclick="adicionarFamiliar()" style="background: #e9effd; color: #1e73d8; border: 1px dashed #1e73d8; padding: 10px; width: 100%; cursor: pointer; border-radius: 6px; font-weight: 600;">
                        + Adicionar Membro da Fam√≠lia
                    </button>
                </div>

                <div class="actions">
                    <button type="button" class="btn-prev" onclick="prevStep(1)">Voltar</button>
                    <button type="button" class="btn-next" onclick="nextStep(3)" disabled>Pr√≥ximo: An√°lise de Renda</button>
                </div>
            </section>

            <section class="form-step" id="step3">
                <h2>An√°lise de Renda Familiar</h2>
                <div class="alert-info" style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 5px solid #ffc107;">
                    <p style="margin: 0; font-size: 0.85rem;">
                        ‚ö†Ô∏è<strong>Regra do Edital:</strong> Somente ser√£o considerados documentos do m√™s atual ou anterior √† data de entrega[cite: 22].
                    </p>
                </div>
                
                <div class="upload-grid">
                    <div class="upload-card">
                        <div class="icon">üìÑ</div>
                        <h4>Holerites</h4>
                        <p>√öltimos 3 a 6 meses.</p>
                        <input type="file" id="fileHolerite" class="req-file" hidden required>
                        <label for="fileHolerite" class="btn-anexar">Anexar Arquivo</label>
                    </div>
                    <div class="upload-card">
                        <div class="icon">üìï</div>
                        <h4>CTPS Digital</h4>
                        <p>PDF completo dos contratos.</p>
                        <input type="file" id="fileCTPS" class="req-file" hidden required>
                        <label for="fileCTPS" class="btn-anexar">Anexar Arquivo</label>
                    </div>
                    <div class="upload-card">
                        <div class="icon">üí∞</div>
                        <h4>Relat√≥rio CCS</h4>
                        <p>Extrato do Registrato de todos os membros.</p>
                        <input type="file" id="fileCCS" class="req-file" hidden required>
                        <label for="fileCCS" class="btn-anexar">Anexar Arquivo</label>
                    </div>
                    <div class="upload-card" id="cardViuvo" style="display: none;">
                        <div class="icon">‚ö±Ô∏è</div>
                        <h4>Certid√£o de √ìbito</h4>
                        <p>Obrigat√≥rio para este v√≠nculo.</p>
                        <input type="file" id="fileObito" hidden>
                        <label for="fileObito" class="btn-anexar">Anexar Arquivo</label>
                    </div>
                </div>

                <div class="input-group full" style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
                    <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                        <input type="checkbox" id="consentimento" class="req" style="width: auto; margin-top: 4px;" required> 
                        <span style="font-size: 0.85rem;">
                            Declaro estar ciente das regras da Funda√ß√£o Zerrenner e autorizo o tratamento dos dados pessoais de todo o grupo familiar para fins de an√°lise socioecon√¥mica.
                        </span>
                    </label>
                </div>

                <div class="actions">
                    <button type="button" class="btn-prev" onclick="prevStep(2)">Voltar</button>
                    <button type="submit" class="btn-finish" disabled>Finalizar An√°lise</button>
                </div>
            </section>
        </form>
    </main>

    <script src="../js/dashboard.js"></script>
</body>
</html>